import DATA_ENDPOINT from"../../config/dataEndPoint";const fungsiFormGaleri=()=>{document.querySelector("form").addEventListener("submit",(async e=>{e.preventDefault();const t=document.getElementById("namaKarya").value,a=document.getElementById("namaPecipta").value,n=document.getElementById("deskripsi").value,o=document.getElementById("tanggalCipta").value,r=document.getElementById("formFile").files[0],l=new FormData;l.append("judul",t),l.append("pencipta",a),l.append("deskripsi",n),l.append("tanggal_cipta",o),l.append("gambar_gallery",r);try{const e=await fetch(DATA_ENDPOINT.GALERI,{method:"POST",body:l});if(!e.ok)throw new Error("Gagal melakukan POST");await e.json();swal({title:"Success",text:"Data berhasil diunggah!",icon:"success",button:"OK"}).then((()=>{window.location.href="/#gallery"}))}catch(e){swal({title:"Error",text:"Gagal mengunggah data!",icon:"error",button:"OK"}),console.error(e)}}))};export default fungsiFormGaleri;